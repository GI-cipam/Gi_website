<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">

    <title>Sign In</title>

    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="signIn.css" rel="stylesheet">
  </head>

  <body>

    <nav class="navbar navbar-expand-md navbar-dark fixed-top " style="background-color: #2d4d64 ; margin-bottom:10%">
      <a class="navbar-brand" href="#"><i class="fa fa-globe fa-2x" aria-hidden="true"></i>Geographical Indications Of India</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item ">
            <a class="nav-link" href="/"><i class="fa fa-home" aria-hidden="true"></i> Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="/signIn"><i class="fa fa-sign-in" aria-hidden="true"></i> Log In</a>
          </li>
          <li class="nav-item">
                  <a class="nav-link" href="/signup"><i class="fa fa-user-plus" aria-hidden="true"></i> Sign Up</a>
          </li>
        </ul>


          <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="search" placeholder="Search for GI" aria-label="Search" id="search_item">
            <button class="btn btn-outline-link my-2 my-sm-0 "  onclick="search()" type="submit">Search</button>
          </form>

      </div>
    </nav>
    <div class="container" style="margin-top:10%; ">

          <div class="form-group">
            <label for="exampleInputEmail1">Email address</label>
            <input type="email" id="email" class="form-control" placeholder="Email Address">
            <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
          </div>
          <div class="form-group">
            <label for="exampleInputPassword1">Password</label>
            <input type="password" id="password" class="form-control" placeholder="Password">
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <input type="checkbox" value="remember-me"> Remember me
            </label>
          </div>
          <button type="submit" class="btn btn-lg btn-primary" onclick="submit()">Sign in</button>


    </div> <!-- /container -->
    <script>

        // Initialize Firebase
        var config = {
          apiKey: "AIzaSyAeFB6v4sdJpdnvHM6xIIiJz4Us5XibKIA",
          authDomain: "gi-website-36c02.firebaseapp.com",
          databaseURL: "https://gi-website-36c02.firebaseio.com",
          projectId: "gi-website-36c02",
          storageBucket: "gi-website-36c02.appspot.com",
          messagingSenderId: "1092547245593"
        };
        firebase.initializeApp(config);

        function submit(){
        var email=document.getElementById('email').value;
        var password=document.getElementById('password').value;
        firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
        // Handle Errors here.
        var errorCode = error.code;
        var errorMessage = error.message;
        });

        firebase.auth().onAuthStateChanged(user => {
        if(user) {
        window.location = '/'; //After successful login, user will be redirected to home
        console.log('signed in');
        }
        else
        console.log('Cant log in');
        });}
      </script>
  </body>
</html>
